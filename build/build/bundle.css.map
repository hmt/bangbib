{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../App.svelte",
    "../Autocomplete.svelte",
    "../Main.svelte",
    "../Navbar.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { print, configData } from \"./../stores.js\";\n  import { db_check } from \"./../database.js\";\n  import Main from \"./Main.svelte\";\n  import Print from \"./Print.svelte\";\n</script>\n\n<style>\n  @import \"../node_modules/bulma/css/bulma.css\";\n</style>\n\n{#if $configData}\n  {#await db_check()} Öffne Datenbank …\n  {:then}\n    {#if $print}\n      <Print />\n    {:else}\n      <Main />\n    {/if}\n  {:catch e}\n    <br />\n    bangbib konnte nicht gestartet werden. Nicht gut. Datenbank ok?\n    <br>Diese Fehlermeldung gab es:\n    <pre>{e}</pre>\n  {/await}\n{/if}",
    "<script>\n  import { view, schueler, db } from \"./../stores.js\";\n  import { get_kurs, get_schueler } from './../getter.js';\n  import Schueler from \"./Schueler.svelte\";\n  import Kurs from \"./Kurs.svelte\";\n\n  let input;\n  let term = \"\";\n  let res = [];\n  let selected = -1;\n  let items = [];\n  let show;\n\n  $: if (term.length > 1) {\n    selected = -1;\n    const schueler = $db\n      .prepare(\n        `SELECT *\n        FROM schueler\n        WHERE vorname || ' ' || name LIKE $term\n        OR name || ', ' || vorname LIKE $term`\n      )\n      .all({term: \"%\"+ term + \"%\"});\n    const kurse = $db\n      .prepare(\n        `SELECT DISTINCT k.kurs, s.klasse, s.jahr\n        FROM kurszugehoerigkeit AS k\n        JOIN schueler AS s ON (s.schild_id = k.schild_id)\n        WHERE kurs LIKE $term OR klasse LIKE $term`\n      )\n      .all({term: term + \"%\"});\n    const res_s = schueler.map(s => {\n      return { id: s.id, name: `${s.name}, ${s.vorname}`, schueler: true };\n    });\n    const res_k = kurse.map(k => {\n      return {\n        id: k.kurs,\n        name: `${k.kurs} – ${k.klasse}`,\n        klasse: k.klasse,\n        jahr: k.jahr\n      };\n    });\n    res = res_k.concat(res_s);\n  }\n  $: if (term.length < 2) res = [];\n  const key = e => {\n    if (e.key === \"ArrowDown\") selected += 1;\n    else if (e.key === \"ArrowUp\") selected -= 1;\n    else if (e.key === \"Enter\" && selected >= 0) {\n      show_selected(res[selected]);\n      return;\n    } else return;\n    if (selected > res.length - 1) selected = 0;\n    if (selected < 0) selected = res.length - 1;\n    e.preventDefault();\n    items[selected].scrollIntoView({ block: \"center\", inline: \"nearest\" });\n  };\n  const blur = _ => {\n    setTimeout(_ => (show = false), 500);\n  };\n\n  function show_selected(item) {\n    res = [];\n    selected = -1;\n    term = \"\";\n    input.blur();\n    // hole Schüler\n    if (item.schueler) {\n      get_schueler(item);\n      $view = Schueler;\n    }\n    // hole Kurs\n    else {\n      get_kurs(item);\n      $view = Kurs;\n    }\n  }\n</script>\n\n<style>\n  .wrapper {\n    position: relative;\n  }\n  .input {\n    width: 20rem;\n  }\n  .items {\n    position: absolute;\n    border: 1px solid #d4d4d4;\n    z-index: 99;\n    top: 100%;\n    left: 0;\n    right: 0;\n    max-height: 80vh;\n    overflow: auto;\n  }\n  .items div {\n    padding: 10px;\n    cursor: pointer;\n    background-color: #fff;\n    border-bottom: 1px solid #d4d4d4;\n  }\n  .items div:hover {\n    background-color: #e9e9e9;\n  }\n  .active {\n    background-color: DodgerBlue !important;\n    color: #ffffff;\n  }\n</style>\n\n<div class=\"wrapper\">\n  <input\n    class=\"input\"\n    type=\"text\"\n    placeholder=\"suche in Gruppen und Nutzern ...\"\n    bind:this={input}\n    bind:value={term}\n    on:keydown={key}\n    on:blur={blur}\n    on:focus={() => (show = true)} />\n  {#if res.length && show}\n    <div class=\"items\">\n      {#each res as r, i}\n        <div\n          on:click={() => show_selected(r)}\n          class:active={selected === i}\n          bind:this={items[i]}>\n          {r.name}\n        </div>\n      {/each}\n    </div>\n  {/if}\n</div>\n",
    "<script>\n  import { view } from './../stores.js';\n  import Navbar from \"./Navbar.svelte\";\n  import Medien from \"./Medien.svelte\";\n  import Messenger from \"./Messenger.svelte\";\n\n  $view = $view || Medien\n</script>\n\n<div class=\"grid-container\">\n  <div class=\"main\">\n    <section class=\"section\">\n        <div class=\"columns\">\n          <div class=\"column is-three-quarters\">\n            <svelte:component this={$view}/>\n          </div>\n          <div class=\"column is-one-quarter\" style=\"height:90vh; position: sticky; top: .2rem;\">\n            <Messenger/>\n          </div>\n        </div>\n    </section>\n  </div>\n  <div class=\"header\">\n    <Navbar />\n  </div>\n</div>\n\n<style>\n  .grid-container {\n    display: grid;\n    grid-template-columns: 250px 1fr;\n    grid-template-rows: 3.25rem calc(100vh - 3.25rem);\n    grid-template-areas: \"header header\" \"main main\";\n  }\n  .main {\n    grid-area: main;\n    overflow: auto;\n  }\n  .header {\n    grid-area: header;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }\n</style>\n",
    "<script>\n  import Autocomplete from \"./Autocomplete.svelte\";\n  import Medien from \"./Medien.svelte\";\n  import Nutzer from \"./Nutzer.svelte\"\n  import Kurs from \"./Kurs.svelte\";\n  import Schueler from \"./Schueler.svelte\";\n  import Einstellungen from \"./Einstellungen.svelte\";\n  import { view, print, scan_status } from \"./../stores.js\";\n\n  const print_allowed = [Medien, Schueler, Kurs];\n</script>\n\n<style>\n  .brand {\n    text-transform: uppercase;\n    padding-right: 10px;\n    cursor: pointer;\n  }\n  .button {\n    margin-right: 0.4rem;\n    margin-left: 0.4rem;\n  }\n</style>\n\n<nav class=\"navbar is-link\">\n  <div class=\"navbar-item\">\n    <div\n      class=\"has-text-white-ter brand is-size-7\"\n      on:click={() => ($view = Medien)}>\n      <b>Bangbib</b>\n    </div>\n    <Autocomplete />\n  </div>\n  <div class=\"navbar-item\">\n    <button class=\"button is-link\">\n      <span class=\"icon\">\n        <i class=\"mdi\" on:click={() => ($view = Medien)}>book</i>\n      </span>\n    </button>\n  </div>\n  <div class=\"navbar-item\">\n    <button class=\"button is-link\">\n      <span class=\"icon\">\n        <i class=\"mdi\" on:click={() => ($view = Nutzer)}>people</i>\n      </span>\n    </button>\n  </div>\n  <div class=\"navbar-item\">\n    <button class=\"button is-link\" disabled={!print_allowed.includes($view)}>\n      <span class=\"icon\">\n        <i class=\"mdi\" on:click={() => ($print = $view)}>print</i>\n      </span>\n    </button>\n  </div>\n  <div class=\"navbar-end\">\n    <div class=\"navbar-item\">\n      <span class=\"icon is-medium\" class:has-background-grey={!$scan_status.rueckgabe} class:has-background-info={$scan_status.rueckgabe}>\n        <i class=\"mdi\">arrow_back</i>\n      </span>\n      <span class=\"icon is-medium\" class:has-background-grey={!$scan_status.ausleihe} class:has-background-warning={$scan_status.ausleihe}>\n        <i class=\"mdi\">arrow_forward</i>\n      </span>\n      <span class=\"icon is-medium\" class:has-background-grey={!$scan_status.zuordnung} class:has-background-success={$scan_status.zuordnung}>\n        <i class=\"mdi\">plus_one</i>\n      </span>\n    </div>\n    <div class=\"navbar-item\">\n      <button class=\"button is-link\">\n        <span class=\"icon\">\n          <i class=\"mdi\" on:click={() => ($view = Einstellungen)}>settings</i>\n        </span>\n      </button>\n    </div>\n  </div>\n</nav>\n"
  ],
  "names": [],
  "mappings": "AAQE,QAAQ,qCAAqC,CAAC;ACwE9C,QAAQ,8BAAC,CAAC,AACR,QAAQ,CAAE,QAAQ,AACpB,CAAC,AACD,MAAM,8BAAC,CAAC,AACN,KAAK,CAAE,KAAK,AACd,CAAC,AACD,MAAM,8BAAC,CAAC,AACN,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,OAAO,CAAE,EAAE,CACX,GAAG,CAAE,IAAI,CACT,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,CAAC,CACR,UAAU,CAAE,IAAI,CAChB,QAAQ,CAAE,IAAI,AAChB,CAAC,AACD,qBAAM,CAAC,GAAG,eAAC,CAAC,AACV,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,OAAO,CACf,gBAAgB,CAAE,IAAI,CACtB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,AAClC,CAAC,AACD,qBAAM,CAAC,kBAAG,MAAM,AAAC,CAAC,AAChB,gBAAgB,CAAE,OAAO,AAC3B,CAAC,AACD,OAAO,8BAAC,CAAC,AACP,gBAAgB,CAAE,UAAU,CAAC,UAAU,CACvC,KAAK,CAAE,OAAO,AAChB,CAAC;AChFD,eAAe,eAAC,CAAC,AACf,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,KAAK,CAAC,GAAG,CAChC,kBAAkB,CAAE,OAAO,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CACjD,mBAAmB,CAAE,eAAe,CAAC,WAAW,AAClD,CAAC,AACD,KAAK,eAAC,CAAC,AACL,SAAS,CAAE,IAAI,CACf,QAAQ,CAAE,IAAI,AAChB,CAAC,AACD,OAAO,eAAC,CAAC,AACP,SAAS,CAAE,MAAM,AACnB,CAAC,eACD,mBAAmB,AAAC,CAAC,AACnB,OAAO,CAAE,IAAI,AACf,CAAC;AC9BD,MAAM,cAAC,CAAC,AACN,cAAc,CAAE,SAAS,CACzB,aAAa,CAAE,IAAI,CACnB,MAAM,CAAE,OAAO,AACjB,CAAC,AACD,OAAO,cAAC,CAAC,AACP,YAAY,CAAE,MAAM,CACpB,WAAW,CAAE,MAAM,AACrB,CAAC"
}